{% extends "base.html" %}
{% block content %}

<div class="flashcard-page">
  <h1 class="page-title">Your Flashcards</h1>
  <div class="flashcard-filter">
    <label for="categorySelect">Select Category:</label>
    <select id="categorySelect">
      <option value="all">All</option>
      {% for cat in categories %}
        <option value="{{ cat }}">{{ cat }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="flashcard-container">
    {% for card in flashcards %}
    <div class="flashcard" data-category="{{ card.category }}">
      <div class="flashcard-inner">
        <div class="flashcard-front">{{ card.question }}</div>
        <div class="flashcard-back">{{ card.answer }}</div>
      </div>
    </div>
    {% else %}
    <p>No flashcards available.</p>
    {% endfor %}
  </div>
</div>
<div class="btn-take-quiz-wrapper">
   <a href="{{ url_for('categories') }}" class="btn-take-quiz">Take Quiz</a>
</div>

<script>
const select = document.getElementById("categorySelect");
const cards = document.querySelectorAll(".flashcard");

select.addEventListener("change", () => {
  const value = select.value;
  cards.forEach(card => {
    card.style.display =
      value === "all" || card.dataset.category === value
        ? "block"
        : "none";
  });
});
</script>

{% endblock %}